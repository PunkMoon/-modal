!function(t){var e=null,n=null,i=function(t){if(!t.type)throw{name:TypeError,message:"弹框类型为必填"};this.type=t.type;var i=t.confirmButtonText,s=t.cancleButtonText,o=t.message;this.title=t.title,this.confirmButtonText=i||"",this.cancelButtonText=s||"",this.message=o||"",e=t.confirmCallback,n=t.cancelCallback,"manual"===this.type&&(this.modalId=t.id,this.modalEl=t.html),this.open=!1,this.handleModalEl()};i.prototype.create=function(){if(!this.open){var t=document.createElement("div");t.classList.add("xh-modal-layer"),t.id=this.modalId,t.innerHTML=this.modalEl,document.body.appendChild(t),this.handleEvent(),this.open=!0}},i.prototype.delete=function(){if(this.open){var t=document.querySelector("#"+this.modalId);document.body.removeChild(t),this.open=!1}},i.prototype.handleModalEl=function(){var t='<section class="modal-box"><div class="content"><h2 class="title">'+this.title+'</h2><p class="text">'+this.message+'</p><div class="btns"><span class="cancel-btn">'+this.cancelButtonText+'</span><span class="confirm-btn">'+this.confirmButtonText+"</span></div></div></section>",e='<section class="modal-box"><div class="content"><h2 class="title">'+this.title+'</h2><p class="text">'+this.message+'</p><div class="btns"><p class="confirm-btn">'+this.confirmButtonText+"</p></div></div></section>";"alert"===this.type?(this.modalEl=e,this.modalId=this.type):"confirm"===this.type&&(this.modalEl=t,this.modalId=this.type)},i.prototype.handleEvent=function(){var t=this;this.confirmButtonText&&(document.querySelector(".confirm-btn").onclick=function(){console.log(t.delete),t.delete(),e()}),this.cancelButtonText&&(document.querySelector(".cancel-btn").onclick=function(){t.delete(),n()})},t.initModal=function(){var t;return function(e){return t||(t=new i(e))}}()}(window);